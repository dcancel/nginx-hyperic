<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Hyperic Plugin for Nginx Server</title></head>
<body><h1>Hyperic Plugin for Nginx Server</h1><h3>Introduction</h3>The
Nginx plugin will auto-discover the nginx service on the machine and
allows monitoring metrics returned by the nginx status module.<br><br><h3>Installation</h3>The&nbsp;nginx-plugin.xml file needs to be deployed on&nbsp;the server and all agents which need to monitor the nginx server.<br><br>Step 1: Stop the HQ Server and Agents<br>Step 2: Copy the plugin file to the respective plugin directory<br>&nbsp;&nbsp;&nbsp;
HQ-Server: cp nginx-plugin.xml &lt;hq installation
dir&gt;/server-3.2.0/hq-engine/server/default/deploy/hq.ear/hq-plugins<br>&nbsp;&nbsp;&nbsp; HQ-Agent: cp nginx-plugin.xml &lt;hq installation dir&gt;/agent-3.2.0/pdk/plugins<br>Step 3: Start the HQ Server and the HQ Agents<br><br><h3>Auto-Discovery</h3>The agents will contact the HQ server and the nginx server should get auto-discovered. See the screenshot below.<br>The nginx server will not get listed immediately on HQ-server startup. Wait around 5 minutes for this to happen.<br><img style="width: 1052px; height: 364px;" alt="Nginx Server Auto-Discovery" src="img/discovery.gif"><br><br><br><h3>Nginx Server</h3>The Ngnix server will be present under the respective Platform-&gt;Machine.<br><br><img style="width: 311px; height: 485px;" alt="Nginx Server" src="img/servers.gif"><br><br><h3>Metrics</h3>Clicking
on the nginx server link will list the metrics. Again, the mertics may
not be listed immediately. Wait for around 5 minutes for this to happen.<br><h3><img style="width: 1262px; height: 548px;" alt="Nginx Server metrics" src="img/metrics.gif"><span style="font-weight: bold;">Assumptions</span></h3><ol><li>The nginx server will be running on port 80</li><li>The status module for nginx is installed and accessible at /nginx_status URL</li></ol><h3>Troubleshooting</h3>In
case the nginx server is not listed even after 5 minutes, there might
be some configuration error. Execute the following command to get an
idea of what the problem is:<br><br>&lt;agent installation dir&gt;/java -jar pdk/lib/hq-product.jar -Dplugins.include=nginx -m metric -Dlog=debug<br><br><img style="width: 894px; height: 247px;" alt="Troubleshooting" src="img/troubleshooting.gif"></body></html>